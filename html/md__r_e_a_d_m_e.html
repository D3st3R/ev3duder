<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>My Project: ev3duder</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">ev3duder </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The LEGOÂ® EV3 Downloader/Uploader utility.</p>
<p>ev3duder is an implementation of the LEGO EV3's protocol over USB (HID), Bluetooth (RFCOMM) and WiFi (TCP).</p>
<p>Click here for precompiled binaries for Linux, Windows and OS X. Building ev3duder on your own is quite easy too, though. </p><h2>Compiling ev3duder</h2>
<p>ev3duder requires a gnu99 compatible compiler, that is GCC 3.2 and above or compatible compilers. Any recent version of gcc, clang or icc should be able to compile it. MS Visual C++ isn't supported, due to the use of C99 features and GNU extensions. Also required is GNU Make.</p>
<h3>Getting the source</h3>
<p>Get the source with git: $ git clone &ndash;recursive <a href="https://github.com/a3f/ev3duder">https://github.com/a3f/ev3duder</a> If you haven't got git, you will have to download these seperately: <a href="https://github.com/a3f/ev3duder/archive/master.zip">https://github.com/a3f/ev3duder/archive/master.zip</a> and <a href="https://github.com/signal11/hidapi/archive/master.zip">https://github.com/signal11/hidapi/archive/master.zip</a> then unpack the hidapi archive into the hidapi directory of the ev3duder extraction path.</p>
<h3>Building from source</h3>
<p>$ make </p><h4>Linux</h4>
<p>On Linux, you additionally need libusb-1.0 to be installed. On Ubuntu and other Debian-based system this can be done via $ sudo apt-get install libusb1.0.0-dev Also to allow access to the ev3 over USB without requiring root, appropriate udev rules must be created. This can be easily done with $ make install </p><h3>Tests</h3>
<p>The test/ directionry contains some sample projects that do stuff on the EV3. <code>perl flash.pl Test_Motors</code> uploads and executes the Test_Motors project.</p>
<h2>Compiling programs for the EV3</h2>
<p>Generally, 2 files are needed: 1) An ELF executable built for Linux on ARM. libc need not be dynamically linked (The standard firmware uses glibc). stdlibc++ is <em>not</em> provided by default and would need to be uploaded separately and dynamically loaded or linked statically (e.g. by specifying -static-libstdc++ during linking with GCC 4.5+).</p>
<p>2) A launcher file, so the program can be started from the built-in menu. This is not strictly required, as ev3duder can execute programs too, but a menu entry is more convenient.</p>
<h2>Compiling for EV3 using gcc</h2>
<h3>Getting the toolchain</h3>
<p>In order to compile C/C++ application you will need the arm-none-linux-gnueabi GCC or arm-linux-gnueabi GCC (Both are the same thing). The <code>symlink_cross.sh</code> script can be used to symlink the latter to the former.</p>
<h4>Windows</h4>
<p>Easiest way is via the CodeSourcery Lite package which can be gotten here: <a href="https://sourcery.mentor.com/GNUToolchain/package4574/public/arm-none-linux-gnueabi/arm-2009q1-203-arm-none-linux-gnueabi.exe">https://sourcery.mentor.com/GNUToolchain/package4574/public/arm-none-linux-gnueabi/arm-2009q1-203-arm-none-linux-gnueabi.exe</a></p>
<h4>Linux</h4>
<p>Debian/Ubuntu offer the Linaro toolchain in the repositories, but I couldn't get it to work. CodeSourcery to the rescue again: $ wget -c <a href="http://www.codesourcery.com/sgpp/lite/arm/portal/package4571/public/arm-none-linux-gnueabi/arm-2009q1-203-arm-none-linux-gnueabi-i686-pc-linux-gnu.tar.bz2">http://www.codesourcery.com/sgpp/lite/arm/portal/package4571/public/arm-none-linux-gnueabi/arm-2009q1-203-arm-none-linux-gnueabi-i686-pc-linux-gnu.tar.bz2</a> For C++: $ mkdir CodeSourcery $ tar -jxvf ~/arm-2009q1-203-arm-none-linux-gnueabi-i686-pc-linux-gnu.tar.bz2 -C ~/CodeSourcery/ $ echo export PATH=~/CodeSourcery/arm-2009q1/bin/:$PATH &gt;&gt; ~/.bashrc &amp;&amp; . ~/.bashrc</p>
<h4>OS X</h4>
<p>Carlson-Minot Inc. provides binary builds of CodeSourcery's GNU/ARM toolchain for OS X. It can be gotten here: <a href="http://www.carlson-minot.com/available-arm-gnu-linux-g-lite-builds-for-mac-os-x">http://www.carlson-minot.com/available-arm-gnu-linux-g-lite-builds-for-mac-os-x</a></p>
<h3>Uploading</h3>
<p>Optimzing for size (-Os) is preferred. As ev3duder doesn't handle remote debugging yet and AFAIK nothing else does, debug symbols should be skipped too (no need for -g).</p>
<p>Example commands to compile, upload and execute: $ arm-linux-gnueabi-gcc main.c file.c -Os -o test $ ev3duder up test.elf ../prjs/BrkPrg_SAVE/test $ ev3duder mkrbf /home/a3f/lms2012/BrkPrg_SAVE/test test.rbf $ ev3duder up test.rbf ../prjs/BrkPrg_SAVE/test.rbf $ ev3duder run test.rbf</p>
<p>Alternatively, steps 4 and 5 can be omitted and the last step changed to <code>ev3duder exec test.rbf</code>; The downside of this is that no menu entry is generated. Another option is also <em>installing</em> the application, which will make it available with an optional icon in the apps menu: </p><pre class="fragment">$ ev3duder up test.rbf ../apps/test.rbf
</pre><p>For uploading to a SD Card, the paths <code>/media/card</code> or <code>../prjs/SD_Card/</code> can be used instead. A connected USB stick would be available under <code>/media/usb/</code>. Keep in mind that the Lego Menu doesn't show .rbf files at the root of the SD card, so it needs to be uploaded into a directory. <code>ev3duder up</code> does create the paths by default.</p>
<h2>Documentation</h2>
<p>As the commands ev3duder supports mirror the functions internally used to implement them, the doxygen documentation of ["funcs.h"] should do as user manual. It's available at <a href="https://a3f.github.io/ev3duder">https://a3f.github.io/ev3duder</a> or can be locally generated by running <code>doxygen</code> and openning the index.html file in a webbrowser.</p>
<h3>Language</h3>
<p>The utlity is written in GNU C99. The Makefile is GNU Make specific. The perl and shell scripts are complementary and not necessary. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.10
</small></address>
</body>
</html>
